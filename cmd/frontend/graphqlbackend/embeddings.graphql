extend type Query {
    embeddingsSearch(
        repoName: String!
        query: String!
        codeResultsCount: Int!
        textResultsCount: Int!
    ): EmbeddingsSearchResults!
    isContextRequiredForQuery(repoName: String!, query: String!): Boolean!
}

extend type Mutation {
    scheduleRepositoriesForEmbedding(repoNames: [String!]!): EmptyResponse!
    scheduleContextDetectionForEmbedding: EmptyResponse!
}

type EmbeddingsSearchResult {
    fileName: String!
    startLine: Int!
    endLine: Int!
    content: String!
}

type EmbeddingsSearchResults {
    codeResults: [EmbeddingsSearchResult!]!
    textResults: [EmbeddingsSearchResult!]!
}
