load("@npm//:defs.bzl", "npm_link_all_packages")
npm_link_all_packages(name = "node_modules")

load("@aspect_rules_jest//jest:defs.bzl", "jest_test")

FILES = glob(["**/*.ts", "**/*.js", "**/*.tsx", "**/*.tsx.snap"])

jest_test(
    name = "test",
    config = "jest.config.js",
    data = FILES + [
        "//:jest.config.base",
        "//:babel.config",
        "//:package_json",
        "//client/shared:dev",
        "//schema:schema"
    ],
    # log_level = "debug",
)
