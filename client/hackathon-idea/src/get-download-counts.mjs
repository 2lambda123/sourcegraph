import * as https from 'https'
import * as url from 'url'

const packageNames = [
    '@types/node',
    'react-dom',
    'react',
    'eslint',
    'jest',
    'webpack',
    'rxjs',
    'moment',
    'babel-jest',
    '@babel/preset-react',
    'prettier',
    'typescript',
    '@babel/core',
    '@types/jest',
    'babel-preset-es2015',
    'mocha',
    '@babel/preset-env',
    '@babel/plugin-proposal-class-properties',
    '@types/react',
    'babel-core',
    'commander',
    'fs-extra',
    'webpack-dev-server',
    'chalk',
    'vue-template-compiler',
    'babel-preset-react',
    '@typescript-eslint/parser',
    'lodash',
    'babel-loader',
    'autoprefixer',
    'gulp',
    '@typescript-eslint/eslint-plugin',
    'css-loader',
    'async',
    'express',
    'core-js',
    'eslint-config-airbnb',
    'eslint-plugin-import',
    'chai',
    'debug',
    'karma',
    'sinon',
    'husky',
    'node-sass',
    'postcss-loader',
    '@babel/runtime',
    'axios',
    'glob',
    'rollup',
    '@babel/plugin-proposal-decorators',
    '@types/glob',
    'html-webpack-plugin',
    'eslint-config-prettier',
    '@babel/plugin-transform-react-jsx',
    '@babel/plugin-proposal-object-rest-spread',
    '@angular/core',
    '@angular/compiler',
    'sass-loader',
    'expect',
    '@types/react-dom',
    'tslib',
    'grunt',
    'bootstrap',
    'react-router-dom',
    '@angular/common',
    '@babel/plugin-transform-modules-commonjs',
    'babel-cli',
    'babel-plugin-transform-object-rest-spread',
    'babel-preset-stage-0',
    'react-is',
    '@types/mocha',
    'redux',
    'lint-staged',
    'prop-types',
    '@babel/cli',
    'jest-cli',
    'rimraf',
    'eslint-plugin-react',
    'babel-plugin-transform-runtime',
    '@types/yargs',
    'minimist',
    'cross-env',
    '@babel/plugin-transform-runtime',
    '@babel/plugin-proposal-numeric-separator',
    'acorn',
    'tape',
    '@angular/animations',
    '@angular/platform-browser',
    'ts-node',
    'socket.io',
    '@angular/animations',
    'ajv',
    'react-app-polyfill',
    'http-proxy-middleware',
    'inquirer',
    '@babel/code-frame',
    'babel-preset-react-app',
    'style-loader',
    'eslint-config-standard',
    '@babel/preset-typescript',
    'tslint',
    'uuid',
    '@babel/plugin-proposal-nullish-coalescing-operator',
    'react-router',
    '@angular/language-service',
    '@angular/compiler-cli',
    '@angular/router',
    'jest-resolve',
    'lru-cache',
    'babel-register',
    'react-test-renderer',
    '@types/lodash',
    'react-scripts',
    'chokidar',
    'karma-chrome-launcher',
    'eslint-config-airbnb-base',
    '@babel/plugin-proposal-optional-chaining',
    'ws',
    'webpack-cli',
    'ts-jest',
    '@angular/platform-browser-dynamic',
    'eslint-plugin-react-hooks',
    'babel-runtime',
    'babel-plugin-transform-es2015-modules-commonjs',
    'react-dev-utils',
    '@babel/plugin-proposal-export-namespace-from',
    'qs',
    '@babel/plugin-syntax-dynamic-import',
    'angular',
    'uglify-js',
    '@angular/forms',
    'date-fns',
    'path-to-regexp',
    'babel-plugin-transform-async-to-generator',
    'babel-plugin-syntax-jsx',
    'vue',
    '@types/jasmine',
    'eslint-config-react-app',
    'babel-preset-env',
    'readable-stream',
    'nan',
    'q',
    'jasmine-core',
    'eslint-plugin-jsx-a11y',
    'lodash.camelcase',
    '@babel/preset-flow',
    'underscore',
    '@babel/plugin-transform-destructuring',
    '@types/json-schema',
    '@types/chai',
    '@babel/plugin-transform-parameters',
    '@angular/platform-server',
    'mongodb',
    '@types/chai',
    '@types/json-schema',
    '@babel/plugin-proposal-json-strings',
    '@babel/preset-flow',
    '@babel/plugin-transform-destructuring',
    'babel-generator',
    'babel-preset-flow',
    'babel-plugin-transform-flow-strip-types',
    'babel-plugin-transform-class-properties',
    'babel-preset-stage-2',
    'babel-preset-stage-3',
    '@storybook/addons',
    '@types/sinon',
    '@types/express',
    'babel-plugin-named-asset-import',
    'connect-history-api-fallback',
    'del',
    'babel-eslint',
    'camelcase',
    'semver',
    'immutable',
    'zone.js',
    'cssnano',
    '@babel/helper-module-imports',
    '@babel/plugin-transform-modules-umd',
    'highlight.js',
    'jest-mock',
    'jest-mock',
    'jest-environment-node',
    '@babel/parser',
    '@babel/plugin-transform-async-to-generator',
    'marked',
    'resolve',
    '@storybook/addon-actions',
    '@storybook/react',
    'jquery',
    '@types/enzyme',
    '@types/uuid',
    'coveralls',
    'co',
    'js-yaml',
    'socket.io-client',
    'url-loader',
    'ejs',
    '@babel/plugin-transform-react-display-name',
    'standard',
    'winston',
    '@babel/plugin-proposal-throw-expressions',
    'minimatch',
    '@babel/plugin-transform-regenerator',
    '@babel/plugin-proposal-optional-catch-binding',
    '@babel/plugin-transform-arrow-functions',
    'jest-haste-map',
    '@babel/register',
    'babel',
    'jest-environment-jsdom',
    '@storybook/addon-links',
    'mini-css-extract-plugin',
    'serve-static',
    'nyc',
    'lodash.get',
    'eslint-plugin-prettier',
    'mime-types',
    'eslint-plugin-promise',
    'ora',
    '@types/babel__traverse',
    '@angular/cli',
    'body-parser',
    'node-fetch',
    '@babel/helper-plugin-utils',
    '@babel/template',
    'babylon',
    'babel-plugin-transform-object-assign',
    'babel-plugin-syntax-object-rest-spread',
    'babel-preset-stage-1',
    'electron',
    '@types/jquery',
    'globby',
    'istanbul',
    'node-notifier',
    '@babel/plugin-syntax-jsx',
    'bluebird',
    'browser-sync',
    '@babel/plugin-proposal-export-default-from',
    'execa',
    'lodash.merge',
    'webpack-dev-middleware',
    'babel-preset-jest',
    'yargs',
    'react-addons-test-utils',
    '@babel/plugin-proposal-async-generator-functions',
    '@types/babel__core',
    '@types/jasminewd2',
    '@angular-devkit/build-angular',
    '@babel/traverse',
    '@babel/generator',
    'babel-plugin-external-helpers',
    'babel-polyfill',
    'babel-plugin-transform-react-jsx',
    '@babel/plugin-transform-block-scoping',
    'babel-plugin-syntax-dynamic-import',
    'file-loader',
    'element-ui',
    'enzyme',
    'color',
    'es6-promise',
    'history',
    'supertest',
    'extend',
    'clone',
    '@babel/plugin-transform-typescript',
    'meow',
    'react-bootstrap',
    'vue-loader',
    '@angular/http',
    'nodemailer',
    'echarts',
    '@babel/node',
    'csso',
    'npm',
    '@types/debug',
    'jest-each',
    'bower',
    'babel-plugin-transform-es2015-arrow-functions',
    'babel-plugin-syntax-trailing-function-commas',
    'babel-plugin-transform-es2015-typeof-symbol',
    'babel-plugin-transform-es2015-classes',
    'babel-plugin-transform-es2015-modules-systemjs',
    'babel-plugin-syntax-async-functions',
    'terser',
    'antd',
    'dotenv',
    '@types/q',
    '@types/selenium-webdriver',
    'react-error-overlay',
    'eslint-plugin-node',
    'form-data',
    'cors',
    'clean-css',
    'express-session',
    'events',
    'loader-utils',
    'big.js',
    '@babel/plugin-transform-flow-strip-types',
    'workbox-webpack-plugin',
    'log4js',
    'got',
    'got',
    'tap',
    'nodemon',
    '@babel/plugin-syntax-class-properties',
    'sequelize',
    'puppeteer',
    'jest-diff',
    'jest-config',
    '@vue/cli-plugin-babel',
    'babel-plugin-transform-es2015-sticky-regex',
    'babel-plugin-transform-es2015-parameters',
    'babel-traverse',
    'babel-plugin-transform-es2015-destructuring',
    'babel-plugin-transform-es2015-block-scoped-functions',
    'babel-plugin-transform-strict-mode',
    'babel-plugin-transform-es2015-duplicate-keys',
    'dayjs',
    '@babel/types',
    'eslint-plugin-vue',
    '@typescript-eslint/typescript-estree',
    'copy-webpack-plugin',
    '@types/inquirer',
    'promise',
    'jsdom',
    'diff',
    'extract-text-webpack-plugin',
    'through',
    'invariant',
    'standard-version',
    'react-select',
    'htmlparser2',
    '@babel/plugin-transform-react-constant-elements',
    'bignumber.js',
    'vuex',
    'styled-components',
    'ember-source',
    'buffer',
    'next',
    'jest-matcher-utils',
    '@babel/polyfill',
    '@types/fs-extra',
    'babel-plugin-transform-es2015-shorthand-properties',
    'babel-plugin-transform-es2015-modules-umd',
    'babel-plugin-transform-es2015-computed-properties',
    'babel-plugin-transform-es2015-modules-amd',
    'babel-template',
    'babel-plugin-check-es2015-constants',
    'react-native',
    '@types/minimatch',
    '@types/rimraf',
    'fsevents',
    'classnames',
    'normalize.css',
    'ava',
    'mime',
    'd3',
    'validator',
    'whatwg-fetch',
    'regenerator-runtime',
    'ember-cli',
    '@babel/plugin-syntax-object-rest-spread',
    'ember-cli',
    '@types/styled-components',
    '@material-ui/core',
    '@react-native-community/eslint-config',
    'pretty-format',
    'superagent',
    '@types/node-fetch',
    '@types/jsonwebtoken',
    '@types/prop-types',
    'react-transition-group',
    'babel-preset-latest',
    'babel-plugin-transform-es2015-literals',
    'babel-plugin-transform-es2015-object-super',
    'babel-plugin-transform-es2015-for-of',
    'babel-plugin-transform-es2015-spread',
    'babel-plugin-transform-es2015-block-scoping',
    'redis',
    'babel-code-frame',
    'lerna',
    '@fortawesome/fontawesome-svg-core',
    '@types/classnames',
    'font-awesome',
    'confusing-browser-globals',
    '@babel/plugin-syntax-import-meta',
    'eslint-plugin-standard',
    'cheerio',
    'json5',
    'query-string',
    'update-notifier',
    'json5',
    'query-string',
    'update-notifier',
    'parcel-bundler',
    '@types/events',
    'systemjs',
    '@angular/material',
    'react-redux',
    '@jest/types',
    'babel-plugin-transform-es2015-function-name',
    'babel-plugin-transform-es2015-template-literals',
    'babel-plugin-transform-exponentiation-operator',
    'babel-types',
    '@babel/plugin-transform-classes',
    'prismjs',
    'aws-sdk',
    'graphql',
    'lodash-es',
    'browserslist',
    '@svgr/webpack',
    '@fortawesome/free-solid-svg-icons',
    'html-entities',
    'gulp-sourcemaps',
    'lodash.debounce',
    'lodash.sortby',
    'compression',
    'find-up',
    'tmp',
    'underscore.string',
    'browserify',
    'pug',
    'graceful-fs',
    'koa',
    'lodash.uniq',
    '@babel/plugin-transform-named-capturing-groups-regex',
    'unified',
    'mime-db',
    '@babel/runtime-corejs3',
    'compression',
    'lodash.debounce',
    'lodash.defaults',
    'lodash.sortby',
    'gulp-sourcemaps',
    'stylus-loader',
    'nopt',
    'nock',
    'yargs-parser',
    'figures',
    'mobx',
    '@babel/helper-module-transforms',
    '@babel/plugin-transform-computed-properties',
    '@babel/plugin-transform-modules-systemjs',
    '@material-ui/styles',
    '@babel/plugin-transform-literals',
    'sass',
    '@babel/plugin-transform-block-scoped-functions',
    'popper.js',
    'source-map-loader',
    'tar',
    '@babel/plugin-syntax-typescript',
    'vuetify',
    'type-fest',
    '@types/chai-as-promised',
    'babel-messages',
    'babel-plugin-transform-regenerator',
    'babel-plugin-transform-react-display-name',
    'pg',
    'vue-router',
    '@types/long',
    '@types/mongodb',
    '@types/cors',
    '@types/react-native',
    '@types/react-redux',
    'release-it',
    'gatsby-plugin-sharp',
    'gatsby-remark-images',
    '@types/body-parser',
    'react-hot-loader',
    'rollup-plugin-commonjs',
    'rollup-plugin-babel',
    'redux-thunk',
    'gulp-rename',
    'isomorphic-fetch',
    'lodash.template',
    'micromatch',
    'esprima',
    'lodash.keys',
    'strip-ansi',
    'http-proxy',
    'ramda',
    'esprima',
    'http-proxy',
    'eventsource',
    '@nestjs/common',
    'yarn',
    '@types/yargs-parser',
    'jshint',
    'jest-leak-detector',
    '@angular/cdk',
    'documentation',
    '@types/react-test-renderer',
    '@types/tapable',
    'stylelint',
    'bn.js',
    'angular-animate',
    'angular-mocks',
    'babel-plugin-transform-es3-member-expression-literals',
    'babel-plugin-transform-react-constant-elements',
    'babel-plugin-syntax-class-properties',
    'babel-plugin-syntax-flow',
    '@types/geojson',
    '@types/marked',
    '@types/supertest',
    '@types/webpack',
    '@types/ws',
    '@types/koa',
    '@types/mkdirp',
    'gatsby',
    'archiver',
    'lodash.isplainobject',
    'npmlog',
    'resolve-url-loader',
    'rollup-plugin-node-resolve',
    '@babel/plugin-transform-member-expression-literals',
    'dotenv-expand',
    'jest-serializer',
    'webpack-manifest-plugin',
    'enhanced-resolve',
    'opn',
    'p-map',
    '@babel/plugin-proposal-dynamic-import',
    'pify',
    'ini',
    'xtend',
    'lodash.isarray',
    'assert',
    'camelcase-keys',
    'ip',
    '@babel/plugin-transform-property-literals',
    '@babel/plugin-syntax-export-default-from',
    'follow-redirects',
    'on-finished',
    '@types/react-transition-group',
    'multer',
    '@babel/plugin-proposal-unicode-property-regex',
    '@babel/plugin-transform-for-of',
    '@babel/plugin-transform-modules-amd',
    '@babel/plugin-transform-new-target',
    'jest-worker',
    '@jest/environment',
    '@types/react-transition-group',
    '@jest/environment',
    'jest-worker',
    '@babel/helper-annotate-as-pure',
    'webpack-bundle-analyzer',
    'jest-regex-util',
    'babel-plugin-transform-es2015-unicode-regex',
    'babel-plugin-transform-decorators',
    'babel-plugin-transform-function-bind',
    'babel-plugin-syntax-decorators',
    '@commitlint/config-conventional',
    'scheduler',
    '@types/semver',
    '@storybook/node-logger',
    'three',
    '@storybook/components',
    '@types/core-js',
    '@types/superagent',
    'gatsby-plugin-react-helmet',
    'gatsby-source-filesystem',
    'jasmine',
    'karma-coverage',
    'bytes',
    'deepmerge',
    'postcss-import',
    'open',
    'iconv-lite',
    '@babel/plugin-transform-reserved-words',
    'eslint-plugin-html',
    'less-loader',
    'node-gyp',
    '@babel/plugin-transform-exponentiation-operator',
    '@babel/plugin-transform-unicode-regex',
    '@babel/plugin-transform-duplicate-keys',
    '@babel/helper-simple-access',
    '@babel/plugin-transform-sticky-regex',
    'passport',
    '@babel/plugin-proposal-logical-assignment-operators',
    'leaflet',
    'postcss-discard-comments',
    '@angular/upgrade',
    '@vue/cli-plugin-eslint',
    '@emotion/styled',
    '@babel/plugin-transform-object-super',
    '@babel/helpers',
    'mongoose',
    'angular-sanitize',
    'markdown-it',
    'babel-plugin-transform-es3-property-literals',
    'babel-plugin-transform-react-jsx-source',
    'caniuse-lite',
    '@types/history',
    '@types/uglify-js',
    'gatsby-plugin-manifest',
    'benchmark',
    'coffee-script',
    'lodash.assign',
    '@babel/plugin-proposal-function-sent',
    '@babel/plugin-external-helpers',
    '@babel/plugin-transform-object-assign',
    'inherits',
    'concat-stream',
    'cross-spawn',
    'mkdirp',
    'pako',
    'lodash.clonedeep',
    'babel-plugin-dynamic-import-node',
    'log-symbols',
    'http-server',
    'through2',
    'espree',
    'source-map-support',
    'optimize-css-assets-webpack-plugin',
    'babel-plugin-jest-hoist',
    'diff-sequences',
    'node-forge',
    'stylus',
    'create-react-class',
    '@babel/plugin-transform-function-name',
    '@babel/plugin-transform-shorthand-properties',
    '@babel/plugin-transform-typeof-symbol',
    'webpack-merge',
    'selenium-webdriver',
    'strip-json-comments',
    '@vue/cli-service',
    'ember-data',
    '@types/webpack-env',
    '@types/react-router-dom',
    'angular-route',
    'terser-webpack-plugin',
    '@jest/test-result',
    '@types/react-router-dom',
    '@types/webpack-env',
    'ember-data',
    'strip-json-comments',
    'selenium-webdriver',
    'angular-route',
    'handlebars',
    '@types/request',
    'babel-helpers',
    '@commitlint/cli',
    'chart.js',
    '@ngtools/webpack',
    'moment-timezone',
    'ms',
    'concurrently',
    'gatsby-transformer-sharp',
    'gatsby-transformer-remark',
    'gatsby-plugin-offline',
    'pretty-quick',
    'postcss-flexbugs-fixes',
    'cosmiconfig',
    'jsonfile',
    'argparse',
    'querystring',
    'builtin-modules',
    'npm-run-path',
    'acorn-jsx',
    'ipaddr.js',
    'request-promise-native',
    'accepts',
    'workbox-build',
    'np',
    'conventional-changelog-cli',
    'component-emitter',
    'connect',
    'babel-plugin-add-module-exports',
    'compression-webpack-plugin',
    'lodash.isstring',
    'lodash.foreach',
    'json-stable-stringify',
    'less',
    'gh-pages',
    'babel-preset-minify',
    'react-datepicker',
    'sprintf-js',
    'protractor',
    'tsickle',
    '@ngrx/store',
    'joi',
    '@jest/transform',
    '@jest/reporters',
    'jest-jasmine2',
    'jest-runner',
    '@jest/test-sequencer',
    'preact',
    '@types/lodash.isequal',
    '@types/resolve',
    'angular-material',
    'raf',
    'babel-helper-call-delegate',
    'babel-plugin-transform-react-inline-elements',
    'babel-plugin-syntax-exponentiation-operator',
    'babel-preset-es2016',
    'tsickle',
    'joi',
    '@ngrx/store',
    'sprintf-js',
    '@jest/test-sequencer',
    'jest-runner',
    '@jest/transform',
    'jest-jasmine2',
    '@jest/reporters',
    'preact',
    'react-reconciler',
    '@storybook/addon-storysource',
    '@storybook/addon-storyshots',
    '@types/gulp',
    '@types/minimist',
    '@types/koa-router',
    '@types/validator',
    '@types/qs',
    '@types/diff',
    '@types/hammerjs',
    'esm',
    'morgan',
    'ncp',
    'object-hash',
    'postcss-cssnext',
    'grunt-contrib-jshint',
    'camel-case',
    'bootstrap-sass',
    'babelify',
    'grunt-cli',
    'grunt-contrib-jshint',
    'gulp-replace',
    'gulp-autoprefixer',
    'lodash.flatten',
    'lodash.map',
    'karma-webpack',
    'lodash.throttle',
    'karma-mocha',
    'morgan',
    'escape-html',
    'ncp',
    'punycode',
    'url',
    'doctrine',
    'entities',
    'signal-exit',
    'escape-string-regexp',
    'read-pkg-up',
    'deep-equal',
    'p-limit',
    'crypto-browserify',
    'vue-hot-reload-api',
    'tapable',
    'raw-body',
    'schema-utils',
    'babel-plugin-import',
    'babel-plugin-istanbul',
    'nanoid',
    'typedoc',
    'bulma',
    'tweetnacl',
    'jest-changed-files',
    'chromedriver',
    'acorn-walk',
    '@types/hoist-non-react-statics',
    '@babel/plugin-syntax-optional-catch-binding',
    '@babel/plugin-syntax-async-generators',
    ' stars',
    'request',
    'Simplified HTTP request client.',
    ' This package is deprecated - Updated Feb 11, 2020',
    'cypress',
    'Cypress.io end to end testing tool',
    'Latest release 10.6.0 - Updated 8 days ago - 40Kpostcss-cli',
    'ionic-angular',
    '@ngrx/effects',
    '@types/eslint',
    'jest-util',
    'jest-validate',
    'ethers',
    '@types/lodash.clonedeep',
    '@types/aws-lambda',
    '@types/prettier',
    '@types/istanbul-lib-report',
    '@types/file-saver',
    'metro-react-native-babel-preset',
    'stylelint-config-standard',
    '@babel/plugin-proposal-pipeline-operator',
    'apollo-server-express',
    'webdriverio',
    '@babel/plugin-proposal-pipeline-operator',
    'serverless',
    'firebase',
    'prettier-eslint',
    'urijs',
    '@storybook/cli',
    '@types/estree',
    '@types/ioredis',
    '@types/react-select',
    '@types/redis',
    'jest-expo',
    'gatsby-image',
    'babel-preset-gatsby-package',
    'codelyzer',
    'case-sensitive-paths-webpack-plugin',
    '@vue/test-utils',
    'supports-color',
    'safe-buffer',
    'color-convert',
    'boxen',
    'crypto-random-string',
    'pump',
    'vinyl',
    'estraverse',
    'mem',
    'prompt',
    '@babel/helper-builder-react-jsx',
    'npm-run-all',
    'webpack-hot-middleware',
    'semantic-ui-react',
    'safe-buffer',
    'supports-color',
    'boxen',
    'mem',
    'crypto-random-string',
    'pump',
    'vinyl',
    'estraverse',
    'semantic-ui-react',
    'aws4',
    'lodash.kebabcase',
    'parse5',
    'normalize-url',
    '@babel/plugin-transform-react-jsx-self',
    '@testing-library/react',
    '@stencil/core',
    'clipboard',
    'prompts',
    'shelljs',
    'locate-path',
    'ua-parser-js',
    '@types/babel__generator',
    'normalize-package-data',
    'write-file-atomic',
    'immer',
    '@angular/elements',
    '@vue/babel-preset-app',
    '@vue/cli-plugin-typescript',
    '@types/istanbul-lib-coverage',
    'sockjs-client',
    'jest-runtime',
    'ci-info',
    'http-errors',
    'http-signature',
    '@types/jsdom',
    'babel-helper-builder-binary-assignment-operator-visitor',
    'babel-helper-replace-supers',
    'babel-plugin-transform-export-extensions',
    'eslint-plugin-jest',
    'babel-plugin-styled-components',
    '@storybook/addon-backgrounds',
    '@storybook/theming',
    '@types/ejs',
    '@types/yeoman-generator',
    '@types/express-session',
    '@types/sinon-chai',
    'pixi.js',
    '@ionic/angular',
    '@types/bluebird',
    'grunt-contrib-clean',
    'lodash.clone',
    'lodash.pick',
    'gulp-load-plugins',
    'babel-plugin-transform-decorators-legacy',
    'backbone',
    'needle',
    'postcss-scss',
    'postcss-url',
    'interpret',
    'sinon-chai',
    '@babel/plugin-transform-react-jsx-source',
    'interpret',
    'grunt-contrib-clean',
    'gulp-load-plugins',
    'lodash.pick',
    'lodash.clone',
    'ansi-colors',
    'ignore',
    'es-abstract',
    'ansi-regex',
    'prelude-ls',
    'fast-levenshtein',
    'emoji-regex',
    'optimist',
    'he',
    '@babel/plugin-proposal-function-bind',
    'readdirp',
    'lodash.mapvalues',
    '@babel/plugin-syntax-decorators',
    'grunt-contrib-uglify',
    'foundation-sites',
    'mysql',
    'gulp-util',
    'angular-in-memory-web-api',
    'jsdoc',
    'tsconfig-paths',
    'cli-spinners',
    'vue-class-component',
    'js-cookie',
    '@types/babel__template',
    '@types/babel__template',
    'file-type',
    'sqlite3',
    'jest-docblock',
    'koa-router',
    'pkg-dir',
    'jest-watcher',
    'flatted',
    '@types/angular',
    '@types/lodash.debounce',
    '@types/nodemailer',
    'jquery-ui',
    '@types/cheerio',
    'babel-helper-explode-assignable-expression',
    'babel-helper-define-map',
    'babel-helper-hoist-variables',
    'babel-helper-remap-async-to-generator',
    'lit-element',
    '@typescript-eslint/experimental-utils',
    'semantic-release',
    'serve',
    '@storybook/addon-info',
    '@storybook/addon-a11y',
    '@types/lru-cache',
    '@types/mime',
    '@types/tar',
    '@types/babel-core',
    '@types/power-assert',
    '@types/sequelize',
    '@types/bootstrap',
    'react-native-elements',
    'gatsby-plugin-mdx',
    'cookie',
    'crypto-js',
    'chai-as-promised',
    'dateformat',
    'gulp-notify',
    'lodash.mergewith',
    'laravel-mix',
    'lodash.isequal',
    'neo-async',
    'jest-react-native',
    'js-base64',
    'jsdoc-to-markdown',
    'eslint-plugin-flowtype',
    'postcss-load-config',
    'pretty-bytes',
    'xo',
    'ansi-styles',
    'jsesc',
    'base64-js',
    'fast-deep-equal',
    'source-map',
    'event-stream',
    'jest-junit',
    'sax',
    '@babel/plugin-syntax-json-strings',
    'url-parse',
    'gulp-minify-css',
    '@babel/plugin-proposal-private-methods',
    '@babel/plugin-proposal-private-methods',
    'hosted-git-info',
    'is-plain-obj',
    '@babel/plugin-proposal-do-expressions',
    '@babel/helper-call-delegate',
    '@types/luxon',
    '@vue/cli-plugin-unit-jest',
    '@types/invariant',
    '@types/js-yaml',
    'angular-messages',
    'boom',
    '@angular-devkit/architect',
    '@angular-devkit/core',
    'jest-message-util',
    'jest-snapshot',
    'tough-cookie',
    'babel-preset-react-native',
    '@types/node-sass',
    '@types/js-cookie',
    '@types/d3',
    'babel-helper-regex',
    'babel-helper-optimise-call-expression',
    'babel-helper-function-name',
    'babel-preset-es2017',
    'redux-saga',
    'vue-server-renderer',
    '@fortawesome/fontawesome-free',
    '@storybook/addon-viewport',
    '@types/faker',
    '@types/update-notifier',
    'log-update',
    'eslint-plugin-mocha',
    'recharts',
    'material-design-icons',
    'pm2',
    'react-draggable',
    'bcrypt',
    'combined-stream',
    'address',
    'lodash.uniqby',
    'jsdom-global',
    'lodash.isfunction',
    'lodash.reduce',
    'multiparty',
    'babel-plugin-transform-react-remove-prop-types',
    'postcss-discard-empty',
    'postcss-ordered-values',
    'postcss-normalize-whitespace',
    'jszip',
    'ssh2',
    'react-addons-transition-group',
    'fuse.js',
    'i18next',
    'react-modal',
    'graphql-tag',
    'ngx-bootstrap',
    'video.js',
    'globals',
    '@babel/helper-remap-async-to-generator',
    '@babel/helper-wrap-function',
]

const fetcher = {
    get(url) {
        return this._makeRequest('GET', url)
    },

    _makeRequest(method, urlString) {
        // create a new Promise
        return new Promise((resolve, reject) => {
            /* Node's URL library allows us to create a
             * URL object from our request string, so we can build
             * our request for http.get */
            const parsedUrl = url.parse(urlString)

            const requestOptions = this._createOptions(method, parsedUrl)
            const request = https.get(requestOptions, res => this._onResponse(res, resolve, reject))

            /* if there's an error, then reject the Promise
             * (can be handled with Promise.prototype.catch) */
            request.on('error', reject)

            request.end()
        })
    },

    // the options that are required by http.get
    _createOptions(method, url) {
        return {
            hostname: url.hostname,
            path: url.path,
            port: url.port,
            method,
        }
    },

    /* once http.get returns a response, build it and
     * resolve or reject the Promise */
    _onResponse(response, resolve, reject) {
        const hasResponseFailed = response.status >= 400
        var responseBody = ''

        if (hasResponseFailed) {
            reject(`Request to ${response.url} failed with HTTP ${response.status}`)
        }

        /* the response stream's (an instance of Stream) current data. See:
         * https://nodejs.org/api/stream.html#stream_event_data */
        response.on('data', chunk => (responseBody += chunk.toString()))

        // once all the data has been read, resolve the Promise
        response.on('end', () => resolve(responseBody))
    },
}

const downloadCounts = await Promise.all(
    packageNames.map(async packageName => ({ name: packageName, downloadCount: await fetchDownloadCount(packageName) }))
)

downloadCounts.forEach(({ name, downloadCount }) => console.log(`${name} - ${downloadCount}`))

async function fetchDownloadCount(packageName) {
    const url = `https://api.npmjs.org/downloads/point/last-month/${packageName}`

    const resultAsString = await fetcher.get(url)
    const result = JSON.parse(resultAsString)
    return result.downloads
}
